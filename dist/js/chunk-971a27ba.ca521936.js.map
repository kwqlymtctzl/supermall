{"version":3,"sources":["webpack:///./src/assets/images/home/recommend_bg.jpg","webpack:///./src/components/content/tabControl/TabControl.vue?c5de","webpack:///./src/views/home/Home.vue?489c","webpack:///./src/views/home/childComponents/HomeRecommendView.vue?2109","webpack:///./src/views/home/Home.vue?bbde","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/home/childComponents/HomeSwiper.vue?b4e2","webpack:///src/views/home/childComponents/HomeSwiper.vue","webpack:///./src/views/home/childComponents/HomeSwiper.vue?77e2","webpack:///./src/views/home/childComponents/HomeSwiper.vue","webpack:///./src/views/home/childComponents/HomeRecommendView.vue?509a","webpack:///src/views/home/childComponents/HomeRecommendView.vue","webpack:///./src/views/home/childComponents/HomeRecommendView.vue?2954","webpack:///./src/views/home/childComponents/HomeRecommendView.vue","webpack:///./src/views/home/childComponents/FeatureView.vue?4b85","webpack:///src/views/home/childComponents/FeatureView.vue","webpack:///./src/views/home/childComponents/FeatureView.vue?b276","webpack:///./src/views/home/childComponents/FeatureView.vue","webpack:///./src/components/content/tabControl/TabControl.vue?f9aa","webpack:///src/components/content/tabControl/TabControl.vue","webpack:///./src/components/content/tabControl/TabControl.vue?0a6f","webpack:///./src/components/content/tabControl/TabControl.vue","webpack:///./src/network/home.js","webpack:///src/views/home/Home.vue","webpack:///./src/views/home/Home.vue?27d0","webpack:///./src/views/home/Home.vue","webpack:///./src/views/home/childComponents/FeatureView.vue?3d13"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","slot","_v","directives","name","rawName","value","expression","ref","on","tabClick","contentScroll","loadMore","banners","swiperImageLoad","recommends","showGoods","nativeOn","$event","backClick","apply","arguments","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_l","item","key","acm","link","image","imageLoad","props","typr","default","data","isLoad","components","Swiper","SwiperItem","methods","$emit","component","_s","title","type","_m","index","class","active","currentIndex","itemClick","titles","getHomeMultidata","request","url","getHomeGoods","page","params","HomeSwiper","RecommendView","FeatureView","NavBar","TabControl","GoodsList","Scroll","BackTop","goods","pop","new","sell","currentType","isShowBackTop","tabOffsetTop","isTabFixed","saveY","itemImgListener","computed","list","created","mounted","refresh","$bus","$on","activated","console","log","$refs","scroll","scrollTo","deactivated","getScrollY","$off","tabControl1","tabControl2","position","y","$el","offsetTop"],"mappings":"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","file":"js/chunk-971a27ba.ca521936.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/recommend_bg.794b6628.jpg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabControl.vue?vue&type=style&index=0&id=6fbca7fa&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=65f31873&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeRecommendView.vue?vue&type=style&index=0&id=eb759578&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('nav-bar',{staticClass:\"home-nav\"},[_c('div',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(\"购物街\")])]),_c('tab-control',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTabFixed),expression:\"isTabFixed\"}],ref:\"tabControl1\",staticClass:\"tab-control\",attrs:{\"titles\":['流行', '新款', '精选']},on:{\"tabClick\":_vm.tabClick}}),_c('scroll',{ref:\"scroll\",staticClass:\"content\",attrs:{\"probe-type\":3,\"pull-up-load\":true},on:{\"scroll\":_vm.contentScroll,\"pullingUp\":_vm.loadMore}},[_c('home-swiper',{attrs:{\"banners\":_vm.banners},on:{\"swiperImageLoad\":_vm.swiperImageLoad}}),_c('recommend-view',{attrs:{\"recommends\":_vm.recommends}}),_c('feature-view'),_c('tab-control',{ref:\"tabControl2\",staticClass:\"tab-control\",attrs:{\"titles\":['流行', '新款', '精选']},on:{\"tabClick\":_vm.tabClick}}),_c('goods-list',{attrs:{\"goods\":_vm.showGoods}})],1),_c('back-top',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowBackTop),expression:\"isShowBackTop\"}],nativeOn:{\"click\":function($event){return _vm.backClick.apply(null, arguments)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('swiper',_vm._l((_vm.banners),function(item){return _c('swiper-item',{key:item.acm},[_c('a',{attrs:{\"href\":item.link}},[_c('img',{attrs:{\"src\":item.image,\"alt\":\"\"},on:{\"load\":_vm.imageLoad}})])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- swiper这个标签的作用应该是将每个swiper-item做成轮播图 -->\r\n  <swiper>\r\n    <!-- swiper-item的作用是遍历轮播图的每一个小组件 -->\r\n    <!-- 后面要加 :key=\"item.acm\"，不然不显示图片-->\r\n    <swiper-item v-for=\"item in banners\" :key=\"item.acm\">\r\n      <!-- 这里记得动态绑定，item.link是一个地址，加了冒号item.link就是一个变量，救恩那个拿到地址，不然就是一个字符串\r\n      在devtools可以看到banners里面有link,image这些属性，是请求数据拿到的banner.list里面的东西 -->\r\n      <!-- 图片具有点击效果，所以a标签，但是点击a好像发送了网络请求 -->\r\n      <a :href=\"item.link\">\r\n        <img :src=\"item.image\" alt=\"\" @load=\"imageLoad\">\r\n      </a>\r\n    </swiper-item>\r\n  </swiper>\r\n</template>\r\n\r\n<script>\r\nimport { Swiper, SwiperItem } from \"components/common/swiper/index\";\r\n\r\nexport default {\r\n  name: \"HomeSwiper\",\r\n  props: {\r\n    // 父传子，从home拿到banner数据\r\n    banners: {\r\n      typr: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isLoad: false,\r\n    };\r\n  },\r\n  components: {\r\n    Swiper,\r\n    SwiperItem,\r\n  },\r\n  methods: {\r\n    imageLoad() {\r\n      //console.log(\"轮播图加载完\"); //打印了4次'轮播图加载完',说明出发了4次imageLoad,发射了4次swiperImageLoad事件，但是这里没有必要发射4次事件，因为这里只需要轮播图的一张图片撑开高度，让offsetTop获取正确的高度即可，当然4次也可以\r\n      if (!this.isLoad) {\r\n        //监听到轮播图第一张图片加载完，触发imageLoad函数，发射swiperImageLoad事件\r\n        this.$emit(\"swiperImageLoad\");\r\n        this.isLoad = true; //这样监听到轮播图第二三四张图片加载完,就不会再发射事件了\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSwiper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeSwiper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeSwiper.vue?vue&type=template&id=72e40c9a&\"\nimport script from \"./HomeSwiper.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeSwiper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend\"},_vm._l((_vm.recommends),function(item){return _c('div',{key:item.acm,staticClass:\"recomment-item\"},[_c('a',{attrs:{\"href\":item.link}},[_c('img',{attrs:{\"src\":item.image,\"alt\":\"\"}}),_c('div',[_vm._v(_vm._s(item.title))])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"recommend\">\r\n    <div v-for=\"item in recommends\" :key=\"item.acm\" class=\"recomment-item\">\r\n      <a :href=\"item.link\">\r\n        <img :src=\"item.image\" alt=\"\">\r\n        <div>{{item.title}}</div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HomeRecommendView\",\r\n  props: {\r\n    recommends: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.recommend {\r\n  /* flex水平布局，否则四个div竖着排列 */\r\n  display: flex;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  /* 上下边距 */\r\n  padding: 10px 0 20px;\r\n  /* 底部那条线 */\r\n  border-bottom: 10px solid #eee;\r\n}\r\n.recommend-item {\r\n  /* 居中均等分 */\r\n  flex: 1;\r\n}\r\n/*写.recommend-item img 不起作用  */\r\nimg {\r\n  /* 100%图片就黏在一起了 */\r\n  width: 90%;\r\n  /* 字体跟图片的距离 */\r\n  margin-bottom: 10px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeRecommendView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeRecommendView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeRecommendView.vue?vue&type=template&id=eb759578&scoped=true&\"\nimport script from \"./HomeRecommendView.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeRecommendView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeRecommendView.vue?vue&type=style&index=0&id=eb759578&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb759578\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feature\"},[_c('a',{attrs:{\"href\":\"https://act.mogujie.com/zzlx67\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/home/recommend_bg.jpg\"),\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"feature\">\r\n    <a href=\"https://act.mogujie.com/zzlx67\">\r\n      <img src=\"@/assets/images/home/recommend_bg.jpg\" alt=\"\">\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"FeatureView\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.feature img {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FeatureView.vue?vue&type=template&id=3e5d000d&scoped=true&\"\nimport script from \"./FeatureView.vue?vue&type=script&lang=js&\"\nexport * from \"./FeatureView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FeatureView.vue?vue&type=style&index=0&id=3e5d000d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e5d000d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-control\"},_vm._l((_vm.titles),function(item,index){return _c('div',{key:item,staticClass:\"tab-control-item\",class:{active:index===_vm.currentIndex},on:{\"click\":function($event){return _vm.itemClick(index)}}},[_c('span',[_vm._v(_vm._s(item))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tab-control\">\r\n    <!-- 这里没有必要像导航栏那样弄个多个插槽，因为这里跟分类组件只有文字不一样,没必要两次使用都插入多个div,而导航栏三个插槽在每个组件都有不同的样子，所以用插槽 -->\r\n    <div v-for=\"(item,index) in titles\" :key=\"item\" class=\"tab-control-item\" :class=\"{active:index===currentIndex}\" @click=\"itemClick(index)\">\r\n      <!--这里 :class=\"{active:index===currentIndex}\"  的index不是需要点击才有的，在遍历的时候就分配好0.1.2，所以一开始currentIndex：0，就匹配上index为0的'流行'-->\r\n      <span>{{item}}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TabControl\",\r\n  props: {\r\n    titles: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  //   记录谁被选中\r\n  data() {\r\n    return {\r\n      currentIndex: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    itemClick(index) {\r\n      this.currentIndex = index;\r\n      // 子传父\r\n      this.$emit(\"tabClick\", index);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tab-control {\r\n  display: flex;\r\n  text-align: center;\r\n  font-size: 15px;\r\n  /* 下面这两个可以继承给.tab-control-item */\r\n  height: 40px;\r\n  line-height: 40px;\r\n  background-color: #fff;\r\n}\r\n.tab-control-item {\r\n  flex: 1;\r\n}\r\n/* 粉色底线与文字太近 */\r\n.tab-control-item span {\r\n  padding: 5px;\r\n}\r\n/* 那个活跃哪个变颜色 */\r\n.active {\r\n  color: var(--color-high-text);\r\n}\r\n/* 粉色底线 */\r\n.active span {\r\n  border-bottom: 3px solid pink;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabControl.vue?vue&type=template&id=6fbca7fa&scoped=true&\"\nimport script from \"./TabControl.vue?vue&type=script&lang=js&\"\nexport * from \"./TabControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabControl.vue?vue&type=style&index=0&id=6fbca7fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fbca7fa\",\n  null\n  \n)\n\nexport default component.exports","import { request } from './request';\r\n\r\n// 不是使用export default的 ，导入时都像上面用{}导入\r\nexport function getHomeMultidata() {\r\n    return request({\r\n        url: '/home/multidata'\r\n    })\r\n}\r\n//需要传参数过来,上面的导出和这个导出，在Home可以放在一起导入\r\nexport function getHomeGoods(type, page) {\r\n    return request({\r\n        url: '/home/data',\r\n        params: {\r\n            type,\r\n            page\r\n        }\r\n    })\r\n}","<template>\r\n  <div id=\"home\">\r\n    <nav-bar class=\"home-nav\">\r\n      <!-- 这个是首页特有的，不应该放在导航栏,属性是匹配并放到center插槽，其他两个left,right插槽正常显示 -->\r\n      <div slot=\"center\">购物街</div>\r\n    </nav-bar>\r\n\r\n    <tab-control class=\"tab-control\" :titles=\"['流行', '新款', '精选']\" @tabClick=\"tabClick\" ref='tabControl1' v-show=\"isTabFixed\"></tab-control>\r\n\r\n    <!-- better-scroll实现滚动，导航栏不滚动不需要 ,但不应该这样做，应该封装-->\r\n    <!-- <div class=\"wrapper\">\r\n         <div class=\"content\">\r\n\r\n         </div>\r\n         </div> \r\n    -->\r\n    <!-- 封装为scroll.vue, scroll只保证能够滚动, 但还要确定高度，不同页面复用时有自己的滚动高度，所以写在这里 -->\r\n    <!-- 不加冒号就是字符串，加了就是确定为Number类型 ，就像加了就是变量一样-->\r\n    <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\" @scroll=\"contentScroll\" :pull-up-load=\"true\" @pullingUp=\"loadMore\">\r\n      <!-- 动态绑定，没有这个只显示第一张图片？ -->\r\n      <home-swiper :banners=\"banners\" @swiperImageLoad=\"swiperImageLoad\"></home-swiper>\r\n      <recommend-view :recommends=\"recommends\"></recommend-view>\r\n      <feature-view></feature-view>\r\n      <!-- 省略冒号会传个字符串过去了;这里是滚动区域,且tab-control组件里面的div有@click监听事件,需要在scroll.vue加click:true才能起效;如果是button则不需要 -->\r\n      <tab-control class=\"tab-control\" :titles=\"['流行', '新款', '精选']\" @tabClick=\"tabClick\" ref='tabControl2'></tab-control>\r\n      <goods-list :goods=\"showGoods\"></goods-list>\r\n    </scroll>\r\n    <!-- @click不能直接监听组件，需要加.native,以前v-on讲过.native--监听组件根元素的原生事件，不加这个写在组件上是监听子组件的事件 -->\r\n    <back-top @click.native='backClick' v-show=\"isShowBackTop\"></back-top>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//导入子组件\r\nimport HomeSwiper from \"./childComponents/HomeSwiper.vue\";\r\nimport RecommendView from \"./childComponents/HomeRecommendView.vue\";\r\nimport FeatureView from \"./childComponents/FeatureView.vue\";\r\n// 导入公共组件\r\nimport NavBar from \"components/common/navbar/NavBar.vue\";\r\nimport TabControl from \"components/content/tabControl/TabControl\";\r\nimport GoodsList from \"components/content/goods/GoodsList.vue\";\r\n// import BScroll from \"better-scroll\"; 但是这样耦合度太高，better-scroll不维护就要一个个改，因为别的三个组件也用到了better-scroll,应该封装\r\nimport Scroll from \"components/common/scroll/Scroll.vue\";\r\nimport BackTop from \"components/content/backTop/backTop.vue\";\r\n\r\n// 导入方法\r\nimport { getHomeMultidata, getHomeGoods } from \"@/network/home\"; //要用default导出才能把大括号删掉\r\nimport { debounce } from \"common/utils.js\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    // 组件注册也跟上面导入顺序\r\n    HomeSwiper,\r\n    RecommendView,\r\n    FeatureView,\r\n\r\n    NavBar,\r\n    TabControl,\r\n    GoodsList,\r\n    Scroll,\r\n    BackTop,\r\n  },\r\n  data() {\r\n    //把请求的数据保存起来，因为getHomeMultidata()是一个函数，函数执行完后，函数里面的参数都是局部变量，用完就会被销毁\r\n    //函数调用-->压入函数栈(保存函数调用过程中所有变量)\r\n    //函数调用结束-->弹出函数栈(释放函数所有的变量)\r\n    //再调用一次这些变量就会重新创建,然后再一次销毁\r\n    return {\r\n      // result: null, //空对象\r\n      //一般分开拿\r\n      banners: [], //拿到的数组，这里自然也要是数组\r\n      recommends: [],\r\n      goods: {\r\n        pop: { page: 0, list: [] }, //这里的pop/new/sell不是乱写的，接口写的啥就是啥\r\n        new: { page: 0, list: [] },\r\n        sell: { page: 0, list: [] },\r\n      },\r\n      currentType: \"pop\", //点击tabcontrol的三个按钮会修改这里，下面就会展示不同的商品\r\n      isShowBackTop: false,\r\n      tabOffsetTop: 0,\r\n      isTabFixed: false,\r\n      saveY: 0,\r\n      itemImgListener: null,\r\n    };\r\n  },\r\n  // 十一：TabControl的封装\r\n  computed: {\r\n    showGoods() {\r\n      return this.goods[this.currentType].list;\r\n    },\r\n  },\r\n\r\n  // 七：请求首页的多个数据\r\n  created() {\r\n    //1.获取多个数据：不仅有轮播图，还有其他图片\r\n    //getHomeMultidata()返回home.js的返回值，而home.js的返回值是一个Promise对象\r\n    // getHomeMultidata().then((res) => {\r\n    //   console.log(res);\r\n    //   // this.result = res;\r\n    //   this.banners = res.data.banner.list;\r\n    //   this.recommends = res.data.recommend.list;\r\n    //1.this在箭头函数是往上找作用域，create有this,之前在created里面打印过一些东西，created里面的this就是当前的组件对象\r\n    //2.垃圾回收机制：没有引用指向的时候就会回收，data的result不会被回收，永远引用的，现在this.result = res，result指向res对象的时候就已经把res对象保存下来了,所以函数执行完,result指向对象是不会被回收的\r\n    // 其实res是指向请求过来的data数据对象,函数执行完，res被回收，就没有指针指向这个请求回来的数据，就会垃圾回收这个数据\r\n    // this.result = res是把res的内存地址给result了，所以result也指向请求的数据data,函数执行完，res被回收,因为还有result指向它，所以这个数据不会被回收\r\n    // });\r\n    //验证result的数据:不能写在这里，因为上面是一个异步操作，大概率先执行这里，打印为空\r\n    // console.log(this.result);\r\n    // 应该通过devtools查看组件内容\r\n\r\n    // 网络请求相关方法\r\n    //1.获取多个数据，this是什么作用：调用下面methods的方法，为什么不直接在这里写，太臃肿\r\n    this.getHomeMultidata();\r\n    //2.请求商品数据\r\n    this.getHomeGoods(\"pop\"); //这里为什么加双引号，是因为下面的goods[type]写法,[]拿属性一般是有引号的\r\n    this.getHomeGoods(\"new\");\r\n    this.getHomeGoods(\"sell\");\r\n  },\r\n  mounted() {\r\n    //组件一创建就要监听图片是否加载完成\r\n    // 3.监听GoodListItem中图片是否加载完成\r\n\r\n    //const refresh = this.debounce(this.$refs.scroll.refresh, 0.01); //this.$refs.scroll.refresh不加括号，因为传入的是一个函数，如果加括号就是把调用结果传进去\r\n    //debounce被封装在utils.js,导入debounce就不用像上面写this了\r\n    const refresh = debounce(this.$refs.scroll.refresh, 0.01);\r\n    //上面的refresh是个局部变量，但是不会被销毁，因为下面有调用它refresh(),\r\n\r\n    this.itemImgListener = () => {\r\n      refresh();\r\n    };\r\n\r\n    // this.$bus.$on(\"itemImageLoad\", () => {\r\n    //   // this.$refs.scroll.refresh();这样refresh太过频繁刷新\r\n    //   refresh();\r\n    // });\r\n    this.$bus.$on(\"itemImageLoad\", this.itemImgListener);\r\n  },\r\n  activated() {\r\n    console.log(\"actived\");\r\n    console.log(this.saveY);\r\n    this.$refs.scroll.scrollTo(0, this.saveY, 0);\r\n    this.$refs.scroll.refresh();\r\n  },\r\n  deactivated() {\r\n    //1.保存Y值\r\n    console.log(\"deactived\");\r\n    this.saveY = this.$refs.scroll.getScrollY();\r\n\r\n    //2.取消全局事件的监听\r\n    this.$bus.$off(\"itemImageLoad\", this.itemImgListener);\r\n  },\r\n  methods: {\r\n    // debounce(func, delay) {\r\n    //   let timer = null; //timer也是个局部变量，但是没有被销毁，因为内部的函数引用了它，形成闭包\r\n    //   return function (...args) {\r\n    //     //...argus是可以接收多个参数\r\n    //     if (timer) clearTimeout(timer);\r\n    //     timer = setTimeout(() => {\r\n    //       func.apply(this, args); //apply可以改变this指向，否则this指向window\r\n    //     }, delay);\r\n    //   };\r\n    // },\r\n\r\n    getHomeMultidata() {\r\n      getHomeMultidata().then((res) => {\r\n        // console.log(res);\r\n        this.banners = res.data.banner.list;\r\n        this.recommends = res.data.recommend.list;\r\n      });\r\n    },\r\n    getHomeGoods(type) {\r\n      const page = this.goods[type].page + 1; //上面data的page是0，页面一打开就请求，请求就+1\r\n      getHomeGoods(type, page).then((res) => {\r\n        //然后请求type分别等于'pop','new','shell'，page等于1的数据\r\n        // console.log(res);\r\n        // 箭头函数的this往外面找，这里的this都是当前的组件对象，所以能够通过this.goods拿到goods\r\n        this.goods[type].list.push(...res.data.list); //三个点的作用是一个个取出来\r\n        // 也可以通过for(let item of res.data.list){}进行遍历\r\n\r\n        this.goods[type].page += 1; //把data中的page+1，上面的page+1只是用于获取请求数据的第几页\r\n\r\n        //scroll默认只能上拉加载一次，所以每次完成上拉加载更多都要执行一次finishPullUp函数\r\n        // this.$refs.scroll.scroll.finishPullUp();\r\n        this.$refs.scroll.finishPullUp();\r\n      });\r\n    },\r\n\r\n    // 十一：TabControl的封装\r\n    //事件监听相关方法\r\n    tabClick(index) {\r\n      // console.log(index);\r\n      switch (index) {\r\n        case 0:\r\n          this.currentType = \"pop\";\r\n          break;\r\n        case 1:\r\n          this.currentType = \"new\";\r\n          break;\r\n        case 2:\r\n          this.currentType = \"sell\";\r\n          break;\r\n      }\r\n      // 让better-scroll里的tabcontrol组件和外面的tabcontrol组件的点击保持一致，两个组件是分别创建的，不是同一个，都分别记录着各自的currentIndex\r\n      this.$refs.tabControl1.currentIndex = index; //tabcontrol组件有个currentIndex记录点击了谁\r\n      this.$refs.tabControl2.currentIndex = index;\r\n    },\r\n    backClick() {\r\n      // 通过父访问子拿到scrollTo方法去调用，这里是父组件，能够调用子组件里面的方法\r\n      // console.log(\"回到顶部\");\r\n      //this.$refs.scroll.scroll.scrollTo(0, 0, 500); //this.$refs.scroll直接拿到scroll组件，后面第二个scroll是拿到scroll.vue里面的data中的scroll,500是毫秒再回到滑动区域的顶部\r\n      //太长难看懂也可以封装在scroll.vue\r\n      this.$refs.scroll.scrollTo(0, 0);\r\n    },\r\n\r\n    contentScroll(position) {\r\n      //1.判断BackTop是否显示\r\n      // console.log(position); //打印的y值都是负数,往下拉为负值\r\n      this.isShowBackTop = -position.y > 1000;\r\n\r\n      //2.决定tabControl是否吸顶(position:fixed)\r\n      this.isTabFixed = -position.y > this.tabOffsetTop;\r\n    },\r\n    loadMore() {\r\n      // console.log(\"上拉加载更多\");\r\n      this.getHomeGoods(this.currentType);\r\n    },\r\n    swiperImageLoad() {\r\n      //1.获取tabControl的offsetTop,不能在created写，否则this.$refs.tabControl拿到的是undefined所以在mounted挂载里面写\r\n      //console.log(this.$refs.tabControl2.offsetTop); //undefined,this.$refs.tabControl拿到的是组件，组件是没有这个offsetTop属性的，应该拿tabControl组件里面模板中的元素，但是不能通过document.querySelector的方式获取，这样是不准确的\r\n      //console.log(this.$refs.tabControl2.$el); //所有组件都有一个属性$el,用于获取组件中的元素\r\n      //console.log(this.$refs.tabControl2.$el.offsetTop); //拿到的是一个不固定的数值，mounted是挂载的意思，确实所有的组件都已经挂载在上面了，但是图片不一定被加载完了, 可能有的图片高度还没有被撑起来，所以offsetTop拿到的高度是不固定的\r\n      // 一般情况下是轮播图加载慢的原因，监听轮播图是否加载完成再获取offsetTop,但是老师这个方法不严谨呀,就监听轮播图，如果其他图片加载过慢呢\r\n      //所以最终还是写在接收homeswiper组件发射事件触发的swiperImageLoad方法里面\r\n      console.log(this.$refs.tabControl2.$el.offsetTop); //此时是固定的值\r\n      this.tabOffsetTop = this.$refs.tabControl2.$el.offsetTop; //把值保存好\r\n\r\n      //2.获取滚动的高度与tabOffsetTop对比,如果滚动高度大于tabOffsetTop就把tabControl改为固定定位\r\n      //之前已经做了获取滚动高度的监听了，在上面的contentScroll方法：把比较结果赋值给isTabFixed，它的值为true/false,再在组件标签上做动态绑定class(:class=\"{fixed:isTabFixed}\"),为true就有fixed属性，并在style写好样式\r\n      // 但是并没有达到目的，tabControl滚动到导航栏下面会突然不见了,下面的goodslist瞬间跑到导航栏下面，这是因为tabControl变为固定定位，不占位置，goodslist就顶上去了，但是即使不占位置tabControl也应该停留在导航栏下面，但是他不见了\r\n      // 为什么不见?这是与better-scroll内部的实现原理有关，正常滚动区域外面包了一层wrapper和content的div,better-scroll在content的div标签加了很多属性，在滚动时content中属性transfrom:translate(0,-90px)的translate在改变(element代码部分可以看到)，\r\n      // 而fixed的位置也是可以被translate所改变，所以fixed随着滚动一起跑上去看不见了，所以在better-scroll里面做停留效果很难，把之前动态绑定class(:class=\"{fixed:isTabFixed}\")删掉,复制一份tabControl组件标签放在导航栏下面(没在better-scroll里面)，这样由于导航栏是固定定位，tabControl跑到其下方，给他一个margin-top就可以了，\r\n      // 或者取消导航栏的固定定位，之前使用固定定位是使用浏览器原生滚动的写法，导航栏会跟着往上滚，但是现在滚动区域只在中间滚动，导航栏有没有固定定位都一样，注释掉相关样式没有任何影响，tabcontrol就跑到导航栏下面了，被轮播图挡住了(注意此时不知什么原因better-scroll的样式方法一出问题了，只能有方法二的子绝父相，应该是calc方法的问题)\r\n      // 所以给tabcontrol一个相对定位和z-index,即保留位置也跑到轮播图上面，然后在tabcontrol组件标签默认v-show=\"false\"不显示，当better-scroll中的tabcontrol滚动到导航栏下方时就显示出来，然后两个tabcontrol就重叠了，继续往上滚，由于better-scroll内部的原因，它里面的tabcontrol组件就不见了，外面的tabcontrol还在，但给用户的视觉就是还在\r\n      //  所以外面的tabcontrol组件标签v-show=\"isTabFixed\"就可以随着滚动高度而显示隐藏了\r\n\r\n      //3.另一个bug:better-scroll里的tabcontrol组件点击'精选'，滚到上面时，外面的tabcontrol组件显示的是'流行'，即两个tabcontrol组件不一致\r\n      // 在tabClick方法加上两行代码，让better-scroll里的tabcontrol组件和外面的tabcontrol组件的点击保持一致\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 轮播图上面就多出44px */\r\n#home {\r\n  /* 1.配合scroll的第一个方法 */\r\n  /* padding-top: 44px; 不需要了，本来导航栏在滑动区域的，需要给固定定位，不占位置，现在滑动区域不包括导航栏，不需要固定定位了*/\r\n  /* vh-->viewport height视口宽度，但是这个100vh有什么用，但是不管better-scroll是方法一还是方法二都不能删掉 */\r\n  height: 100vh;\r\n  /* 关于height:100%和height:100vh的区别:vh就是当前屏幕可见高度的1%，也就是说height:100vh == height:100%;但是当元素没有内容时候，设置height:100%，该元素不会被撑开，此时高度为0，但是设置height:100vh，该元素会被撑开屏幕高度一致。*/\r\n  /* 这里如果设置100%，则内容有多长，这个就多长 */\r\n  /* 2.子绝父相，配合scroll的第二个方法 */\r\n  position: relative;\r\n}\r\n\r\n.home-nav {\r\n  background: var(--color-tint);\r\n  color: #fff;\r\n\r\n  /* 在使用浏览器原生滚动时，为了让导航栏不跟随一起滚动，现在滑动区域不包括导航栏，不需要固定定位了 */\r\n  /* position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 999; */\r\n  /* 固定定位脱离标准流，不占位置，但是压不住图片，所以会被轮播图挡住，所以要z-index */\r\n}\r\n\r\n.tab-control {\r\n  /* 这个属性比较新，要考虑兼容，但移动端没事，粘性定位在better-scroll失效了 */\r\n  /* position: sticky; */\r\n  /* top: 44px; */\r\n\r\n  position: relative;\r\n  /* 相对定位保留位置 */\r\n  z-index: 9;\r\n}\r\n\r\n/* scroll.vue也有一个class=\"content\"，会不会影响？不会，因为这里用了scoped */\r\n.content {\r\n  /* 方法一： */\r\n  /* height: 574px;为了适应不同的手机，不能写死高度 */\r\n  /* calc的运算符前后必须有空格 */\r\n  /* height: calc(100% - 93px); */\r\n  /* 但是这样写导航栏的固定定位还有粘性定位还有tabbar都有问题 */\r\n  /* overflow: hidden; */\r\n  /* margin-top: 44px; */\r\n  /* 不能用padding,如果用padding,不起效，整体上移到导航栏下面,难道scroll不算一个真正的盒子？还是弹性盒子的原因？*/\r\n\r\n  /* 方法二：或者子绝父相，\r\n  1.给home一个相对定位，去掉padding-top,但是这样脱离标准流，如果后面还有东西，怎么办\r\n  2.tabclick失效，需要在scroll.vue设置click:true,因为tab-control里面有监听tabClick，tab-control里面又有div的标签，而better-scroll只能监听button标签，其他标签必须加click:true;\r\n  粘性定位失效了，因为不是原生的滚动了，是better-scroll在滚动，系统没法检查滚动到哪里了 */\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 44px;\r\n  bottom: 49px;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n/* \r\n.fixed {\r\n  position: fixed;\r\n  top: 44px;\r\n  left: 0;\r\n  right: 0;\r\n} */\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=65f31873&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=65f31873&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65f31873\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureView.vue?vue&type=style&index=0&id=3e5d000d&scoped=true&lang=css&\""],"sourceRoot":""}